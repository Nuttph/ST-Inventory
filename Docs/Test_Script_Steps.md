# ขั้นตอนการทำงาน (Test Script Step-by-Step) - ST-Inventory

เอกสารนี้อธิบายลำดับขั้นตอนการทำงาน (User Flow) แบ่งตามบทบาทของผู้ใช้งาน (Admin และ Customer) ในรูปแบบตารางขั้นตอน

## 1. บทบาท: ผู้ดูแลระบบ (Admin) - การจัดการสต็อกสินค้า

| ขั้นตอนที่ | หน้าจอ/เมนู | การกระทำของผู้ใช้งาน (Action) | ผลลัพธ์ที่คาดหวัง (Expected Result) |
| :--- | :--- | :--- | :--- |
| 1 | หน้าเข้าสู่ระบบ | กรอกบัญชี Admin และรหัสผ่าน | เข้าสู่ระบบสำเร็จและไปยังหน้า Dashboard |
| 2 | เมนู Inventory | คลิก "Add New Product" | ปรากฏหน้าต่าง (Dialog) สำหรับกรอกข้อมูลสินค้า |
| 3 | หน้าต่างเพิ่มสินค้า | กรอก ชื่อ, ราคา, หมวดหมู่ และจำนวนสต็อกเริ่มต้น | หน้าต่างปิดลง และสินค้าใหม่ปรากฏในตาราง |
| 4 | ตารางสินค้า | คลิกปุ่ม "Edit" ในแถวของสินค้าที่ต้องการ | ข้อมูลเดิมของสินค้าปรากฏขึ้นมาให้แก้ไขได้ |
| 5 | ตารางสินค้า | คลิกปุ่ม "Restock" และกรอกจำนวนที่ต้องการเพิ่ม | จำนวนสต็อกในตารางเพิ่มขึ้นตามที่ระบุ |
| 6 | ตารางสินค้า | คลิกปุ่ม "Delete" และยืนยันการลบ | สินค้าหายไปจากตารางและการแจ้งเตือนสต็อกต่ำอัปเดต |

---

## 2. บทบาท: ลูกค้า (Customer) - การสั่งซื้อและการตัดสต็อก

| ขั้นตอนที่ | หน้าจอ/เมนู | การกระทำของผู้ใช้งาน (Action) | ผลลัพธ์ที่คาดหวัง (Expected Result) |
| :--- | :--- | :--- | :--- |
| 1 | หน้าเข้าสู่ระบบ | กรอกบัญชีลูกค้า และรหัสผ่าน | เข้าสู่ระบบสำเร็จและไปยังหน้าเลือกซื้อสินค้า |
| 2 | หน้า Shop | คลิก "Add to Cart" ในสินค้าที่ต้องการ | ตัวเลขในรถเข็นเพิ่มขึ้น และสินค้าปรากฏในรายการรถเข็น |
| 3 | ตะกร้าสินค้า | ตรวจสอบรายการและคลิก "Checkout" | ระบบนำไปยังหน้าชำระเงิน (จำลอง) |
| 4 | หน้าชำระเงิน | เลือกวิธีการชำระเงินและคลิก "Confirm Payment" | ระบบเรียก API ตัดสต็อกสินค้า และแจ้งเตือนชำระเงินสำเร็จ |
| 5 | หน้าคำสั่งซื้อ | ตรวจสอบสถานะคำสั่งซื้อ | คำสั่งซื้อใหม่ปรากฏขึ้นพร้อมสถานะ "Paid" |
| 6 | หน้า Inventory (ตรวจสอบ) | ตรวจสอบจำนวนสินค้าที่สั่งไป | **จำนวนสต็อกสินค้าในหน้า Inventory ต้องลดลง** ตามจำนวนที่สั่งซื้อจริง |

---

## 3. สรุป Flow การทำงานหลัก (Flow Chart สรุป)

1.  **Admin Setup**: Admin เพิ่มสินค้าเข้าสู่ระบบ -> กำหนดสต็อกเริ่มต้น
2.  **Customer Transaction**: Customer สั่งซื้อสินค้า -> ชำระเงิน
3.  **System Integration**: ระบบตรวจสอบสต็อก -> หากพอ หักสต็อกทันที -> หากไม่พอ ปฏิเสธการชำระเงิน
4.  **Verification**: ทั้ง Admin และ Customer สามารถติดตามสถานะล่าสุดของสินค้าและคำสั่งซื้อได้
