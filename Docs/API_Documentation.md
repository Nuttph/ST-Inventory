# บทสรุป API และข้อมูลทางเทคนิค - ST-Inventory

เอกสารนี้อธิบายเกี่ยวกับ API Endpoints และตรรกะทางธุรกิจของระบบ ST-Inventory

## Base URL
`http://localhost:5000/api`

---

## 1. การยืนยันตัวตน (`/auth`)

### 1.1 เข้าสู่ระบบ (Login)
- **Endpoint:** `POST /auth/login`
- **คำอธิบาย:** ตรวจสอบสิทธิ์ผู้ใช้งานและคืนค่า Token
- **Request Body:**
```json
{
  "email": "user@example.com",
  "password": "password123"
}
```
- **ผลลัพธ์ที่คาดหวัง:**
  - `200 OK`: คืนค่า Object ผู้ใช้งานพร้อม `token`
  - `401 Unauthorized`: อีเมลหรือรหัสผ่านไม่ถูกต้อง

---

## 2. การจัดการสินค้า (`/products`)

### 2.1 เพิ่มสินค้าใหม่
- **Endpoint:** `POST /products`
- **คำอธิบาย:** เพิ่มรายการสินค้าใหม่เข้าสู่ระบบ
- **ผลลัพธ์ที่คาดหวัง:**
  - `201 Created`: คืนค่าข้อมูลสินค้าที่สร้างสำเร็จ

### 2.2 แก้ไขสินค้า
- **Endpoint:** `PUT /products/:id`
- **คำอธิบาย:** อัปเดตข้อมูลสินค้า (ชื่อ, ราคา, หมวดหมู่, สต็อก)
- **ผลลัพธ์ที่คาดหวัง:**
  - `200 OK`: คืนค่าข้อมูลที่อัปเดตแล้ว

### 2.3 ลบสินค้า
- **Endpoint:** `DELETE /products/:id`
- **คำอธิบาย:** ลบสินค้าออกจากระบบอย่างถาวร

---

## 3. การจัดการคำสั่งซื้อ (`/orders`)

### 3.1 สร้างคำสั่งซื้อ
- **Endpoint:** `POST /orders`
- **คำอธิบาย:** บันทึกการสั่งซื้อสินค้า **พร้อมระบบตรวจสอบและตัดสต็อกอัตโนมัติ**
- **ตรรกะทางธุรกิจ:**
  - หากจำนวนที่สั่งซื้อ > จำนวนสต็อกที่มี ระบบจะตอบกลับด้วย `400 Bad Request`
  - หากสำเร็จ จำนวนสต็อกสินค้าจะถูกหักออกทันที
- **ผลลัพธ์ที่คาดหวัง:**
  - `201 Created`: สร้างคำสั่งซื้อและหักสต็อกสำเร็จ
  - `400 Bad Request`: "สินค้าไม่เพียงพอ" หรือข้อมูลไม่ถูกต้อง
